<!DOCTYPE html>
<html lang="fr">

<head>
<meta charset="UTF-8">
<title>





</title>
<meta name="author" content="Gaëtan Langhade, interfacteur">
<style>
img	{
	vertical-align: middle;
	width: 50px;
}
</style>
</head>

<body>
<pre></pre>
<script src="-media/jquery-2.1.1.min.js"></script>
<script>
// http://www.html5rocks.com/fr/tutorials/es6/promises/
;(function () {
	"use strict";
	var access = "&client_id=e8ce07d7ca81454ca7ca&client_secret=58e01a1e64bc997753cf364b80f53d922468722c",
		url = "https://api.github.com/search/repositories?q=form+in:name&type=Repositories&per_page=10" + access,
		info = [
			"https://api.github.com/repos/",
			"/form/contributors?per_page=100000&anon=1" + access
		],
		$code = $("pre");



	$.getJSON(url)
	.then(function(repo) {
		repo.items.map(function (row, indice) {
			return new Promise(function (resolve) {
				$.getJSON(info[0] + row.owner.login + info[1], function (gotContrib) {
					resolve(
						(indice + 1) + ' ' +
						row.owner.login + ' ' +
						'<img src="' + row.owner.avatar_url + '">' + ' : ' +
						gotContrib.length + ' contributeur(s)' +
						(gotContrib[0].login ?
							(' dont le premier est ' + gotContrib[0].login + ' <img src="' + gotContrib[0].avatar_url + '">') : "") + "<br>");
		});	});	})
		.reduce(function (sequence, repoPromise) {
			return sequence.then(function (contrib) {
				$code.append(contrib);
				return repoPromise;
		});	})
		.then(function (contrib) {
			$code.append(contrib);
	});	});



return;



//version concise et moins complète :



	$.getJSON(url)
	.then(function(repo) {
		repo.items.map(function (row) {
			return $.getJSON(info[0] + row.owner.login + info[1]);
		}).reduce(function (sequence, repoPromise) {
			return sequence.then(function (contrib) {
				console.log(contrib.length + ' contributeur(s)' + (contrib[0].login ? (' dont le premier est ' + contrib[0].login + ' <img src="' + contrib[0].avatar_url + '">') : ""));
				return repoPromise;
			});
		})
		.then(function (contrib) {
			console.log(contrib.length + ' contributeur(s)' + (contrib[0].login ? (' dont le premier est ' + contrib[0].login + ' <img src="' + contrib[0].avatar_url + '">') : ""))
		});
	});




// 1 malsup : form
// 2 hyperoslo : Form
// 3 adamwathan : form
// 4 symfony : form
// 5 ajg : form
// 6 jbroadway : form
// 7 vermaseren : form
// 8 LRotherfield : Form
// 9 JonoB : form
// 10 joomla-framework : form




// 1 malsup : 28 contributeur(s) dont le premier est malsup <img src="https://avatars.githubusercontent.com/u/28185?v=3">
// 2 hyperoslo : 19 contributeur(s) dont le premier est 3lvis <img src="https://avatars.githubusercontent.com/u/1088217?v=3">
// 3 adamwathan : 13 contributeur(s) dont le premier est adamwathan <img src="https://avatars.githubusercontent.com/u/4323180?v=3">
// 4 symfony : 100 contributeur(s) dont le premier est fabpot <img src="https://avatars.githubusercontent.com/u/47313?v=3">
// 5 ajg : 2 contributeur(s) dont le premier est ajg <img src="https://avatars.githubusercontent.com/u/654094?v=3">
// 	6 vermaseren : 12 contributeur(s)
// 7 jbroadway : 2 contributeur(s) dont le premier est jbroadway <img src="https://avatars.githubusercontent.com/u/87886?v=3">
// 8 LRotherfield : 5 contributeur(s)
// 9 JonoB : 5 contributeur(s)
// 10 joomla-framework : 18 contributeur(s) dont le premier est mbabker <img src="https://avatars.githubusercontent.com/u/368545?v=3">


// 28 contributeur(s) dont le premier est malsup <img src="https://avatars.githubusercontent.com/u/28185?v=3">
// 19 contributeur(s) dont le premier est 3lvis <img src="https://avatars.githubusercontent.com/u/1088217?v=3">
// 13 contributeur(s) dont le premier est adamwathan <img src="https://avatars.githubusercontent.com/u/4323180?v=3">
// 100 contributeur(s) dont le premier est fabpot <img src="https://avatars.githubusercontent.com/u/47313?v=3">
// 2 contributeur(s) dont le premier est ajg <img src="https://avatars.githubusercontent.com/u/654094?v=3">
// 2 contributeur(s) dont le premier est jbroadway <img src="https://avatars.githubusercontent.com/u/87886?v=3">
// 12 contributeur(s)
// 5 contributeur(s)
// 5 contributeur(s)
// 18 contributeur(s) dont le premier est mbabker <img src="https://avatars.githubusercontent.com/u/368545?v=3">










}) ();
</script>
</body>
</html>
