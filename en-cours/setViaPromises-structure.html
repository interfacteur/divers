<!DOCTYPE html>
<html lang="fr">

<head>
<meta charset="UTF-8">
<title>Set without order dependant properties via Promises \ Tests / Equatorium</title>
<meta name="author" content="GaÃ«tan Langhade, interfacteur">
</head>

<body>
<pre></pre>
<script src="-media/jquery-2.1.1.min.js"></script>
<script>
//polyfill ?
;(function () {
	"use strict";

	var $pre = $("pre");

	var datas = [1, 1, 1, 1, 1, 1],
		numb,
		promNode = function (resolve) {
			var leng = datas.length;
			for (var i = leng; i >= 0; --i) {
				numb = Math.round(Math.random());
				numb == 0
				&& datas.splice(i, 1);
			}
			resolve();
		},
		promThen = function () {
			$pre.append(datas + "\n");
			if (datas.length > 0)
				return new Promise(promNode).then(promThen);
			$pre.append("fin");
		};

	new Promise(promNode)
	.then(promThen)
	.then(function () {
		$pre.append(".");
	});

}) ();
</script>
</body>
</html>
